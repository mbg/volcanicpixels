{#
   app-engine-ssl/buy

   Copyright (c) Daniel Chatfield
#}
{% extends "modules/layout" %}

{% block js %}ssl/buy{% endblock %}

{% block title %}Purchase Google App Engine SSL Certificate | {{ super() }}{% endblock %}

{% block page %}
    <section class="container-very-tight">
        <form class="block-form" method="POST">
            <header>
                <h1>Get your SSL certificate now</h1>
            </header>
            <fieldset>
                <input name="domain" class="domain" type="text" placeholder="Domain" value="{{ domain }}" />
                <div class="align-center wildcard-message hide">
                    <p>Wildcard certificates are not currently available.<!--Would you like to be notified when they are?</p>
                    <div class="font-size-xsmall">
                        <div class="button primary-button disabled">Yes, thanks</div>
                    </div>-->
                </div>
                <div class="align-center naked-domain hide">
                    <p>Do you mean <span class="alternate-font"><span class="highlight">www.</span><span class="hostname"></span></span>? If you are not sure then <a>read this</a>
                    </p>
                    <div class="font-size-xsmall">
                        <div class="button primary-button yes">Yes, thanks</div>
                        <div class="button regular-button no">Nope, I'm sure</div>
                    </div>
                </div>
            </fieldset>

            <hr />

            <h2>Domain Verification</h2>
            <p class="align-center">
                To issue a certificate we need to verify that you manage the domain. <span class="highlight">Select an email address to send the verification email to.</span> If none of these email addresses exist you need to <a tabindex="-1" href="http://stps.co/r/ldzjy2S/" target="_blank" title="Guide opens in new tab">add one as an alias</a> before purchasing.
            </p>
            <fieldset>
                <select email="verify_email" class="verification-email-address">
                    <option>Enter domain first</option>
                </select>
            </fieldset>

            <hr />

            <fieldset>
                <input name="name" id="name" type="text" x-autocompletetype="name-full" data-stripe="name" placeholder="Your name" value="{{ name }}" />
            </fieldset>
            <fieldset>
                <input name="email" id="username" class="email" type="text" x-autocompletetype="email" placeholder="Email address" value="{{ email }}" />
            </fieldset>
            <fieldset>
                <input name="organization" id="org" type="text" x-autocompletetype="organization" placeholder="Business name" value="{{ organization }}" />
            </fieldset>
            <fieldset>
                <input name="phone_number" id="phone_number" type="text" x-autocompletetype="phone-full" placeholder="Phone Number" value="{{ phone_number }}" />
            </fieldset>
            <fieldset>
                <input name="street_address" id="street_address" type="text" x-autocompletetype="street-address" placeholder="Street Address" value="{{ street_address }}" />
            </fieldset>
            <fieldset>
                <input name="city" type="text" placeholder="City/Town" value="{{ city }}" />
            </fieldset>
            <fieldset>
                <input name="state" type="text" placeholder="State" value="{{ state }}" />
            </fieldset>
            <fieldset>
                <select name="country" data-stripe="address_country">
                {% for name, _country in countries|dictsort %}
                    <option value="{{ _country.alpha2 }}" {% if _country.alpha2 == country %}selected{% endif %}>{{ _country.name }}</option>
                {% endfor %}
                </select>
            </fieldset>
            <fieldset>
                <input name="postcode" id="postcode" type="text" x-autocompletetype="postal-code" data-stripe="address_zip" placeholder="Postal code" value="{{ postcode }}" />
            </fieldset>

            <hr />

            <p class="align-center hide existing-user">
                The email address you entered is linked to an account, <span class="highlight">enter your password for your new account</span>.
            </p>

            <p class="align-center hide new-user">
                It looks like you're new here, <span class="highlight">enter a password below</span>.
            </p>

            <fieldset>
                <input name="password" id="password" type="password" class="password" placeholder="Password" value="{{ password }}" />
            </fieldset>

            <hr />

            <fieldset class="hide">
                <legend>Select a credit card to use</legend>
                <select name="credit_card">
                    <option selected class="stripe-token">New credit card</option>
                </select>
            </fieldset>

            {% include "modules/credit-card" %}

            <p class="pad-medium align-center">
                Submitting this form signifies that you've read and agree to our <a title="Terms of Service" href="{{ url_for('terms-of-service') }}" target="_blank">Terms of Service</a>, <a title="Privacy Policy" href="{{ url_for('privacy-policy') }}" target="_blank">Privacy Policy</a> and Symantec's <a href="https://www.verisign.com/repository/agreements/serverClass3Org.html">SSL Subscriber Agreement</a>.
            </p>

            <fieldset>
                <input type="submit" value="Purchase certificate for Â£35" class="button primary-button purchase" />
            </fieldset>
        </form>
    </section>
{% endblock %}
